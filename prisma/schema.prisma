generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Session {
  id            String    @id
  shop          String
  state         String
  isOnline      Boolean   @default(false)
  scope         String?
  expires       DateTime?
  accessToken   String
  userId        BigInt?
  firstName     String?
  lastName      String?
  email         String?
  accountOwner  Boolean   @default(false)
  locale        String?
  collaborator  Boolean?  @default(false)
  emailVerified Boolean?  @default(false)
}

model User {
  id             BigInt    @id @default(autoincrement())
  storeId        String    @unique
  storeName      String
  domain         String    @unique
  email          String?
  currency       String?
  storeCreatedAt DateTime? @db.Timestamp(6)
  userStatus     String    @default("ACTIVE")
  free           Boolean   @default(false)
  createdAt      DateTime  @default(now()) @db.Timestamp(6)
  updatedAt      DateTime  @db.Timestamp(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model Subscription {
  id                     Int       @id @default(autoincrement())
  store_id               String?   @db.VarChar(255)
  subscription_charge_id String?   @db.VarChar(255)
  subscription_plan_id   String?   @db.VarChar(255)
  started_at             DateTime? @default(now()) @db.Timestamp(6)
  updated_at             DateTime? @default(now()) @db.Timestamp(6)
  cancel_at              DateTime? @db.Timestamp(6)
  renew_at               DateTime? @db.Timestamp(6)
  is_active              Boolean?

  @@ignore
}

model WidgetList {
  id        String   @id @db.VarChar(255)
  name      String   @db.VarChar(255)
  status    String   @db.VarChar(255)
  createdAt DateTime @default(now()) @db.Timestamp(6)
  updatedAt DateTime @default(now()) @db.Timestamp(6)
  storeid   String?  @db.VarChar(255)
}

model SubscriptionRenew {
  id                     Int    @id @default(autoincrement())
  storeid                String @db.VarChar(255)
  subscription_charge_id String @db.VarChar(255)
  subscription_plan_id   String @db.VarChar(255)
  started_at             String @db.VarChar(50)
}

model Feature {
  id        Int      @id @default(autoincrement())
  subject   String
  email     String
  message   String
  imageUrl  String?  @db.VarChar(255)
  status    String   @default("ACTIVE")
  createdAt DateTime @default(now()) @db.Timestamp(6)
}

model Pricing {
  id               Int      @id @default(autoincrement())
  name             String
  price            Float
  pricing_features String
  trial_orders     Int?
  createdAt        DateTime @default(now())
}

model Widget {
  sno                 Int       @id(map: "widget_pkey") @default(autoincrement())
  widget_id           String?   @db.VarChar(255)
  collection_name     String?   @db.VarChar(255)
  collection_id       String?   @db.VarChar(255)
  order               Int?
  created_at          DateTime? @default(now()) @db.Timestamp(6)
  updated_at          DateTime? @default(now()) @db.Timestamp(6)
  selected_collection String?   @db.VarChar
}
